<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AES Checklist Terminal</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="tui">
    <header class="tui-header" role="banner">
      <div class="tui-header-top">
        <h1 class="tui-logo">◇ AES CHECKLIST</h1>
        <nav class="tui-nav" role="navigation" aria-label="Main">
          <a href="#dashboard" class="tui-nav-item active" data-view="dashboard">[1] Dashboard</a>
          <a href="#templates" class="tui-nav-item" data-view="templates">[2] Templates</a>
          <a href="#projects" class="tui-nav-item" data-view="projects">[3] Projects</a>
        </nav>
      </div>
      <div class="tui-header-bar">────────────────────────────────────────────────────────────────────────────</div>
    </header>

    <main class="tui-main" role="main">
      <!-- Dashboard -->
      <section id="view-dashboard" class="tui-view active" aria-label="Dashboard">
        <div class="tui-kpi">
          <div class="tui-kpi-cell">
            <span class="tui-kpi-num" id="kpi-active">0</span>
            <span class="tui-kpi-tag">ACTIVE</span>
          </div>
          <div class="tui-kpi-cell">
            <span class="tui-kpi-num" id="kpi-completed">0</span>
            <span class="tui-kpi-tag">DONE</span>
          </div>
          <div class="tui-kpi-cell">
            <span class="tui-kpi-num" id="kpi-old-version">0</span>
            <span class="tui-kpi-tag">OLD VER</span>
          </div>
          <div class="tui-kpi-cell">
            <span class="tui-kpi-num" id="kpi-needs-review">0</span>
            <span class="tui-kpi-tag">REVIEW</span>
          </div>
        </div>
        <div class="tui-grid">
          <div class="tui-pane tui-pane-main">
            <div class="tui-pane-head">┌─ Project Activity ─────────────────────────────────────────────────────</div>
            <div class="tui-pane-body">
              <table class="tui-table" id="table-projects">
                <thead>
                  <tr>
                    <th>Project</th>
                    <th>Template</th>
                    <th>Ver</th>
                    <th>Status</th>
                    <th>Created</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="tui-pane-foot">└────────────────────────────────────────────────────────────────────────</div>
          </div>
          <div class="tui-pane tui-pane-side">
            <div class="tui-pane-head">┌─ Template Updates ─────</div>
            <div class="tui-pane-body" id="template-updates"></div>
            <div class="tui-pane-head">┌─ Audit ─────────────────</div>
            <div class="tui-pane-body tui-audit" id="audit-feed"></div>
            <div class="tui-pane-foot">└─────────────────────────</div>
          </div>
        </div>
      </section>

      <!-- Templates -->
      <section id="view-templates" class="tui-view" aria-label="Templates">
        <div class="tui-pane">
          <div class="tui-pane-head">┌─ Available Templates ────────────────────────────────────────────────────</div>
          <div class="tui-pane-body" id="templates-list"></div>
          <div class="tui-pane-foot">└────────────────────────────────────────────────────────────────────────</div>
        </div>
      </section>

      <!-- Projects -->
      <section id="view-projects" class="tui-view" aria-label="Projects">
        <div class="tui-toolbar">
          <button type="button" class="tui-btn tui-btn-alt" id="btn-import">Import</button>
          <button type="button" class="tui-btn tui-btn-pri" id="btn-export">Export all</button>
          <input type="file" id="input-import" accept=".json" hidden>
        </div>
        <div class="tui-pane">
          <div class="tui-pane-head">┌─ Projects ───────────────────────────────────────────────────────────────</div>
          <div class="tui-pane-body" id="projects-list"></div>
          <div class="tui-pane-foot">└────────────────────────────────────────────────────────────────────────</div>
        </div>
      </section>

      <!-- Checklist (project detail) -->
      <section id="view-project-detail" class="tui-view" aria-label="Checklist">
        <div class="tui-checklist-bar">
          <button type="button" class="tui-btn tui-btn-back" id="btn-back-from-project">◀ Back</button>
          <span class="tui-checklist-title" id="project-detail-title"></span>
          <span class="tui-checklist-progress" id="checklist-progress"></span>
          <div class="tui-checklist-actions">
            <button type="button" class="tui-btn tui-btn-alt" id="btn-upgrade-project" style="display:none;">Upgrade</button>
            <button type="button" class="tui-btn tui-btn-pri" id="btn-export-project">Export</button>
          </div>
        </div>
        <div class="tui-checklist-filters" id="checklist-filters">
          <span class="tui-filter-label">Filter:</span>
          <button type="button" class="tui-filter-btn active" data-filter="all">All</button>
          <button type="button" class="tui-filter-btn" data-filter="flagged">◇ Flagged</button>
          <button type="button" class="tui-filter-btn" data-filter="pending">Pending</button>
          <button type="button" class="tui-filter-btn" data-filter="done">Done</button>
          <select class="tui-filter-section" id="filter-section" aria-label="Filter by section">
            <option value="">All sections</option>
          </select>
        </div>
        <div class="tui-checklist-layout">
          <div class="tui-checklist-wrap">
            <div class="tui-pane-body tui-checklist-body" id="checklist-body"></div>
          </div>
          <aside class="tui-checklist-nav" aria-label="Section navigator">
            <div class="tui-nav-head">Sections</div>
            <nav class="tui-nav-list" id="checklist-nav-list"></nav>
          </aside>
        </div>
        <div class="tui-float-bar" id="float-completion-bar" aria-hidden="true">
          <div class="tui-float-bar-fill" id="float-bar-fill"></div>
          <span class="tui-float-bar-text" id="float-bar-text">0 / 0 done</span>
        </div>
      </section>
    </main>

    <footer class="tui-footer">
      <span class="tui-footer-text">localStorage • no backend • export/import JSON</span>
    </footer>
    <div class="tui-status" id="status-line" role="status" aria-live="polite"></div>
  </div>
  <script src="js/storage.js"></script>
  <script src="js/templates.js"></script>
  <script src="js/projects.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
